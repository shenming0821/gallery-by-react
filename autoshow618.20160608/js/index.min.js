require(["http://cdn01.51autoimg.com//51auto/js/lib/jquery.min.js"],function(t){var e=function(){this.init(),this.eleClick(),this.present(),this.statisticsFun()};e.prototype.init=function(){var t=this;$(".main .list").eq(0).show(),$(".modal-list .list").eq(0).show(),t.firstPageUrl="http://m.51auto.com/ajax/autoShow?num=8",t.ajaxFun(t.firstPageUrl,t.renderin,"#show-box .list")},e.prototype.ajaxFun=function(t,e,n){$.ajax({url:t,type:"GET",async:!0,dataType:"jsonp",crossDomain:!0,jsonp:"callback",timeout:3e4,headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},error:function(t){console.log("error")},success:function(t){e(n,t)}})},e.prototype.renderin=function(t,n){var s=function(t){var e="";0==t.status&&(e='<div class="soldOut"></div>');var n="<dl><a href="+t.WebURL+"><dt><img src="+t.pictureURL+' alt="" /></dt><dd><p class="tit">'+t.shortDescription+'</p><p class="info"><b>¥</b><span class="price">'+t.price2W+'万</span><span class="year">'+t.regdate+'</span><span>|</span><span class="mile">'+t.distance2W+"万公里</span></p></dd>"+e+"</a></dl>";return n},a=[n.result1,n.result2,n.result3,n.result4],o=$(t).size();for(i=0;i<o;i++){var c="";$.each(a[i],function(t,e){c+=s(e)}),$(t).eq(i).html(c)}".modal-list .list"==t&&e.prototype.easyScroll()},e.prototype.easyScroll=function(){require(["http://cdn01.51autoimg.com//apps/zhuanti.51auto.com/autoshow618.20160608/js/easyscroll.min.js","http://cdn01.51autoimg.com//apps/zhuanti.51auto.com/autoshow618.20160608/js/mousewheel.min.js"],function(){$(".modal .list-box").scroll_absolute({arrows:!1})})},e.prototype.eleClick=function(){var t=this;(function(){var t;$(".signUp-price").on("click",function(){t?e():($(".signUp .select").stop(!0,!0).animate({height:"160px",top:-159},300),t=!0)}),$("body").on("click",function(n){if(t){var s=n.target;$(s).hasClass("signUp-price")||e()}});var e=function(){$(".signUp .select").stop(!0,!0).animate({height:0,top:0},300),t=!1};$(".signUp .select").on("click","li",function(){$("#price").html($(this).html()),$("#price").addClass("active")})})(),function(){var t,e,n=1;$("#show-box").on("click",".btns",function(){t="tab"+n,$("#show-box .title").removeClass(t),n=$(this).index()+1,e="tab"+n,$("#show-box .title").addClass(e);var s=$(this).index();$(".main .list").eq(s).fadeIn(200).siblings(".list").hide(),$(this).addClass("active").siblings(".btns").removeClass("active")})}(),function(){$(".seeMore-btn").on("click",function(){$("#modal-box").show();var e=$("#show-box").find(".active").index()+1,n="d"+e;$(".modal .title").find("span").removeClass().addClass(n),$(".choose-btns span").eq(0).addClass("active").siblings("span").removeClass("active"),$(".scroll_absolute").css("top",0),$(".scroll_drag").css("top",0);var s=$("#show-box .title").find(".active").index()+1,a="http://m.51auto.com/ajax/more?tab="+s;t.ajaxFun(a,t.renderin,".modal-list .list")})}(),function(){$(".choose-btns").on("click","span",function(){$(this).addClass("active").siblings("span").removeClass("active"),$(".modal-list .list").eq($(this).index()).fadeIn(200).siblings(".list").hide(),$(".scroll_absolute").css("top",0),$(".scroll_drag").css("top",0),t.easyScroll()})}(),function(){$(".modal .toTop").on("click",function(){$(".scroll_absolute").css("top",0),$(".scroll_drag").css("top",0)})}(),function(){$(".modal-back").on("click",function(){$("#modal-box").hide()})}()},e.prototype.getFormJson=function(t){var e={},n="";return $.each($("#"+t).serializeArray(),function(t,s){n=s.name,e[n]=s.value}),e},e.prototype.present=function(){var t=this,e=function(){var t=!0,e=function(t,e){var n=$("#"+t).val();return e.test(n)},n=function(e){return e.length?void $.each(e,function(e,n){if("price"==n.name){var s=$("#"+n.name).html();if("意向车价"==s)return t=!1,alert(n.msg),!1}else if(!n.fun(n.name,n.value))return t=!1,alert(n.msg),!1}):(t=!1,!1)},s=[{name:"name",fun:e,value:/^[a-zA-Z\u4e00-\u9fa5]{2,25}$/,msg:"请输入正确的英文或中文姓名！"},{name:"tel",fun:e,value:/(^1[3|4|5|7|8][0-9]\d{8}$)/,msg:"请输入正确的11位手机号码！"},{name:"price",msg:"请选择您的意向车价！"}];return n(s),t};$("body").on("click","#confirm-btn",function(){var t="意向车价："+$("#price").html();s("signUpForm",t,"note")});var n=function(){document.getElementById("signUpForm").reset(),$(".signUp-price").html("意向车型").removeClass("active")},s=function(s,a,o){if(!e())return!1;var i=a;$("#"+o).val(i);var c=t.getFormJson(s);$.ajax({url:"http://admin2.51auto.com:8080/cms/signupapi/",type:"GET",dataType:"jsonp",crossDomain:!0,jsonp:"callbackparam",jsonpCallback:"success",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},data:c,error:function(t){},success:function(t){alert("报名"+t.msg+"！"),n()}})}},e.prototype.statisticsFun=function(){var t=window.location.toString(),e=t.split("?");if(e.length>1){for(var n=e[1].split("&"),s="",a=0;a<n.length;a++){var o=n[a].split("=");""!=s&&(s+=" "),"utm_source"!=o[0]&&"utm_medium"!=o[0]&&"utm_term"!=o[0]&&"utm_content"!=o[0]&&"utm_campaign"!=o[0]||(s+=decodeURIComponent(o[1]))}$("#resource").val(s)}!function(){var t=document.createElement("script");t.src="//hm.baidu.com/hm.js?954c42feaba402a134e4d89ae31cc766";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),function(t,e,n,s,a,o,i){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,o=e.createElement(n),i=e.getElementsByTagName(n)[0],o.async=1,o.src=s,i.parentNode.insertBefore(o,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-254381-1","auto"),ga("send","pageview")},$(function(){new e})});var telCheckFun=function(t){var e=t.keyCode;57>=e&&e>=48||105>=e&&e>=96||8==e||(t.returnValue=!1)};